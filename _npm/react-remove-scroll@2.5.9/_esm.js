/**
 * Bundled by jsDelivr using Rollup v2.79.1 and Terser v5.19.2.
 * Original file: /npm/react-remove-scroll@2.5.9/dist/es2015/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{__rest as e,__assign as t,__spreadArray as n}from"../tslib@2.6.2/_esm.js";import*as r from"../react@18.3.1/_esm.js";import{fullWidthClassName as o,zeroRightClassName as a}from"../react-remove-scroll-bar@2.3.6/constants._esm.js";import{useMergeRefs as c}from"../use-callback-ref@1.3.2/_esm.js";import{createSidecarMedium as l,exportSidecar as i}from"../use-sidecar@1.1.2/_esm.js";import{RemoveScrollBar as u}from"../react-remove-scroll-bar@2.3.6/_esm.js";import{styleSingleton as s}from"../react-style-singleton@2.2.1/_esm.js";var f=l(),d=function(){},m=r.forwardRef((function(n,o){var a=r.useRef(null),l=r.useState({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:d}),i=l[0],u=l[1],s=n.forwardProps,m=n.children,v=n.className,h=n.removeScrollBar,p=n.enabled,w=n.shards,g=n.sideCar,b=n.noIsolation,y=n.inert,E=n.allowPinchZoom,C=n.as,R=void 0===C?"div":C,k=n.gapMode,S=e(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),L=g,M=c([a,o]),N=t(t({},S),i);return r.createElement(r.Fragment,null,p&&r.createElement(L,{sideCar:f,removeScrollBar:h,shards:w,noIsolation:b,inert:y,setCallbacks:u,allowPinchZoom:!!E,lockRef:a,gapMode:k}),s?r.cloneElement(r.Children.only(m),t(t({},N),{ref:M})):r.createElement(R,t({},N,{className:v,ref:M}),m))}));m.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},m.classNames={fullWidth:o,zeroRight:a};var v=!1;if("undefined"!=typeof window)try{var h=Object.defineProperty({},"passive",{get:function(){return v=!0,!0}});window.addEventListener("test",h,h),window.removeEventListener("test",h,h)}catch(e){v=!1}var p=!!v&&{passive:!1},w=function(e,t){var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},g=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!=typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),b(e,r)){var o=y(e,r);if(o[1]>o[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},b=function(e,t){return"v"===e?function(e){return w(e,"overflowY")}(t):function(e){return w(e,"overflowX")}(t)},y=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},E=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},C=function(e){return[e.deltaX,e.deltaY]},R=function(e){return e&&"current"in e?e.current:e},k=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},S=0,L=[];function M(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}var N=i(f,(function(e){var t=r.useRef([]),o=r.useRef([0,0]),a=r.useRef(),c=r.useState(S++)[0],l=r.useState(s)[0],i=r.useRef(e);r.useEffect((function(){i.current=e}),[e]),r.useEffect((function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(c));var t=n([e.lockRef.current],(e.shards||[]).map(R),!0).filter(Boolean);return t.forEach((function(e){return e.classList.add("allow-interactivity-".concat(c))})),function(){document.body.classList.remove("block-interactivity-".concat(c)),t.forEach((function(e){return e.classList.remove("allow-interactivity-".concat(c))}))}}}),[e.inert,e.lockRef.current,e.shards]);var f=r.useCallback((function(e,t){if("touches"in e&&2===e.touches.length)return!i.current.allowPinchZoom;var n,r=E(e),c=o.current,l="deltaX"in e?e.deltaX:c[0]-r[0],u="deltaY"in e?e.deltaY:c[1]-r[1],s=e.target,f=Math.abs(l)>Math.abs(u)?"h":"v";if("touches"in e&&"h"===f&&"range"===s.type)return!1;var d=g(f,s);if(!d)return!0;if(d?n=f:(n="v"===f?"h":"v",d=g(f,s)),!d)return!1;if(!a.current&&"changedTouches"in e&&(l||u)&&(a.current=n),!n)return!0;var m=a.current||n;return function(e,t,n,r,o){var a=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),c=a*r,l=n.target,i=t.contains(l),u=!1,s=c>0,f=0,d=0;do{var m=y(e,l),v=m[0],h=m[1]-m[2]-a*v;(v||h)&&b(e,l)&&(f+=h,d+=v),l=l instanceof ShadowRoot?l.host:l.parentNode}while(!i&&l!==document.body||i&&(t.contains(l)||t===l));return(s&&(o&&Math.abs(f)<1||!o&&c>f)||!s&&(o&&Math.abs(d)<1||!o&&-c>d))&&(u=!0),u}(m,t,e,"h"===m?l:u,!0)}),[]),d=r.useCallback((function(e){var n=e;if(L.length&&L[L.length-1]===l){var r="deltaY"in n?C(n):E(n),o=t.current.filter((function(e){return e.name===n.type&&(e.target===n.target||n.target===e.shadowParent)&&(t=e.delta,o=r,t[0]===o[0]&&t[1]===o[1]);var t,o}))[0];if(o&&o.should)n.cancelable&&n.preventDefault();else if(!o){var a=(i.current.shards||[]).map(R).filter(Boolean).filter((function(e){return e.contains(n.target)}));(a.length>0?f(n,a[0]):!i.current.noIsolation)&&n.cancelable&&n.preventDefault()}}}),[]),m=r.useCallback((function(e,n,r,o){var a={name:e,delta:n,target:r,should:o,shadowParent:M(r)};t.current.push(a),setTimeout((function(){t.current=t.current.filter((function(e){return e!==a}))}),1)}),[]),v=r.useCallback((function(e){o.current=E(e),a.current=void 0}),[]),h=r.useCallback((function(t){m(t.type,C(t),t.target,f(t,e.lockRef.current))}),[]),w=r.useCallback((function(t){m(t.type,E(t),t.target,f(t,e.lockRef.current))}),[]);r.useEffect((function(){return L.push(l),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:w}),document.addEventListener("wheel",d,p),document.addEventListener("touchmove",d,p),document.addEventListener("touchstart",v,p),function(){L=L.filter((function(e){return e!==l})),document.removeEventListener("wheel",d,p),document.removeEventListener("touchmove",d,p),document.removeEventListener("touchstart",v,p)}}),[]);var N=e.removeScrollBar,P=e.inert;return r.createElement(r.Fragment,null,P?r.createElement(l,{styles:k(c)}):null,N?r.createElement(u,{gapMode:e.gapMode}):null)})),P=r.forwardRef((function(e,n){return r.createElement(m,t({},e,{ref:n,sideCar:N}))}));P.classNames=m.classNames;export{P as RemoveScroll};export default null;
